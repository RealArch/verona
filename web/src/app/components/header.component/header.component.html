<nav class="bg-primary/80 text-white border-b border-primary shadow-sm backdrop-blur-xl">
    <div class="navbar container mx-auto px-4">

        <!-- Logo y navegaci√≥n principal -->
        <div class="navbar-start">
            <!-- <div class="dropdown">
                <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </div>
                <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                    <li><a href="#home">Inicio</a></li>
                    <li><a href="#productos">Productos</a></li>
                    <li><a href="#colecciones">Colecciones</a></li>
                    <li><a href="#sobre-nosotros">Sobre Verona</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                </ul>
            </div> -->

            <!-- Logo principal -->

            <!-- <span class="text-2xl mr-2">üèõÔ∏è</span> -->
            <!-- logo svg -->
            <a routerLink="/">
                <img class="h-full max-h-[4rem] w-25 lg:w-30 object-contain" style="aspect-ratio:1/1;"
                    src="logos/logo_verona_white.svg" alt="Logo de Verona">
            </a>
        </div>

        <!-- Centro - B√∫squeda -->
        <div class="navbar-center hidden lg:flex">
            <form class="form-control" (submit)="onSearchSubmit($event)">
                <div class="input-group">
                    <input type="text" placeholder="Buscar productos..."
                        class="input w-80 focus:input-primary input-primary bg-primary-alt/50 text-white mr-2"
                        [value]="searchQuery()" (input)="onSearchInput($event)" (keypress)="onSearchKeyPress($event)" />
                    <button type="submit" class="btn btn-circle btn-ghost h-full py-1.5">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>
            </form>
        </div>

        <!-- Derecha - Carrito y usuario -->
        <div class="navbar-end flex items-center gap-2">

            <!-- B√∫squeda m√≥vil -->
            <button class="btn btn-ghost btn-circle lg:hidden" (click)="navigateToSearch()">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
            </button>



            @if(isAuthenticated()) {
            <!-- Men√∫ de usuario -->
            <div class="dropdown dropdown-end">
                <div tabindex="0" role="button" class="">
                    <button tabindex="0" role="button" class="button-login btn btn-ghost block text-start mr-3">
                        <div>Hola,</div>
                        <div>{{userProfile()?.firstName | titlecase}} ‚ñº</div>

                    </button>
                </div>

                <ul tabindex="0"
                    class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52 border border-base-300">
                    <li>
                        <a class="justify-between text-base-content hover:bg-primary/10"
                            (click)="closeDropdownAndNavigate('/user/profile')">
                            Mi Perfil
                            <!-- <span class="badge badge-accent badge-sm">Nuevo</span> -->
                        </a>
                    </li>
                    <li>
                        <a class="text-base-content hover:bg-primary/10" (click)="closeDropdownAndNavigate('user/orders')">
                            Mis Pedidos
                        </a>
                    </li>
                    <li>
                        <a class="text-base-content hover:bg-primary/10" (click)="closeDropdownAndNavigate('user/wishlist')">
                            Lista de Deseos
                        </a>
                    </li>
                    <!-- <li>
                        <a class="text-base-content hover:bg-primary/10" (click)="closeDropdownAndAction()">
                            Configuraci√≥n
                        </a>
                    </li> -->
                    <li>
                        <hr class="border-base-300">
                    </li>
                    <li>
                        <a class="text-error hover:bg-error/10" (click)="logout();closeDropdownAndAction()">
                            Cerrar Sesi√≥n
                        </a>
                    </li>
                </ul>

            </div>
            } @else {

            <button tabindex="0" role="button" class="button-login btn btn-ghost block text-start mr-3"
                (click)="navigateToLogin()">
                <div>Hola,</div>
                <div>Iniciar Sesi√≥n ‚ñº</div>

            </button>

            }
        </div>

        <!-- Carrito de compras -->
        <div class="dropdown dropdown-end mr-4">
            <div tabindex="0" role="button" class="btn btn-ghost btn-circle relative">
                <div class="indicator">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M7 13l-1.1 5M7 13l1.1-5m8.9 5L17 8m2 5l1.1 5M9 21a1 1 0 11-2 0 1 1 0 012 0zm10 0a1 1 0 11-2 0 1 1 0 012 0z">
                        </path>
                    </svg>
                    <!-- Contador de items -->
                    <span
                        class="badge badge-xs indicator-item badge-accent text-accent-content rounded-full w-5 h-5 flex items-center justify-center">
                        {{cartItemsCount().uniqueItemCount}}
                    </span>
                </div>
            </div>
            <div tabindex="0"
                class="mt-3 z-[1] card card-compact dropdown-content w-80 bg-base-100 shadow-xl border border-base-300">
                <div class="card-body">
                    <span class="font-bold text-lg text-base-content">{{cartItemsCount().itemCount}} Items</span>
                    <span class="text-info text-sm">Subtotal: ${{cartItemsCount().subtotal}}</span>
                    <div class="card-actions">
                        <button class="btn btn-primary btn-block" (click)="closeDropdownAndNavigate('/shopping-cart')">
                            Ver Carrito
                        </button>
                        <button class="btn btn-secondary btn-block" (click)="closeDropdownAndAction()">
                            Checkout
                        </button>
                    </div>
                </div>
            </div>
        </div>


    </div>

    <!-- Barra de navegaci√≥n secundaria (opcional) -->
    <!-- <div class="bg-gradient-to-r from-primary-alt/10 via-transparent to-primary-alt/90 border-t border-base-200">
        <div class="container mx-auto px-4 py-2">
            <div class="flex items-center justify-center gap-6 text-sm">
                <a href="#sofas" class="text-white/80 hover:text-gold transition-colors">Sof√°s</a>
                <a href="#mesas" class="text-white/80 hover:text-gold transition-colors">Mesas</a>
                <a href="#sillas" class="text-white/80 hover:text-gold transition-colors">Sillas</a>
                <a href="#decoracion" class="text-white/80 hover:text-gold transition-colors">Decoraci√≥n</a>
                <a href="#dormitorio" class="text-white/80 hover:text-gold transition-colors">Dormitorio</a>
            </div>
        </div>
    </div> -->
</nav>