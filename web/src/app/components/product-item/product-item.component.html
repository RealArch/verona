<div class="item h-full w-full cursor-pointer" (click)="navigateToProduct(product)">
    <div
        class="bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 shadow-xl overflow-hidden hover:bg-white/10 transition-all duration-500 hover:scale-[1.02] hover:shadow-primary/20 h-full flex flex-col">
        <!-- Imagen con relaci칩n de aspecto rectangular adaptable -->
        <div class="relative w-full aspect-[4/3] overflow-hidden">

            @if(product.photos.length > 0) {
            <img [src]="product.photos[0].small.url" [alt]="product.slug"
                class="w-full h-full object-cover object-center absolute inset-0" />
            <div class="absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"></div>

            } @else {
            <div class="flex items-center justify-center w-full h-full absolute inset-0 bg-base-200">
                <img class="no-img max-w-[60%] max-h-[60%] object-contain" src="img/no-image.svg"
                    alt="No Image Available">

            </div>
            }

            <!-- Overlay glass sutil -->

            <!-- Badge glass flotante -->
            <!-- <div
                class="absolute top-2 left-2 bg-white/20 backdrop-blur-md rounded-full px-2 py-0.5 border border-white/30">
                <span class="text-[10px] font-semibold text-white">-15%</span>
            </div> -->
            <!-- Bot칩n favorito glass -->
            <button
                class="absolute top-2 right-2 w-7 h-7 bg-white/20 backdrop-blur-md rounded-full border border-white/30 flex items-center justify-center hover:bg-white/30 transition-all duration-300 group-hover:scale-110"
                (click)="toggleFavorite(1); $event.stopPropagation()">
                <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                    </path>
                </svg>
            </button>
        </div>
        <!-- Contenido minimalista y responsivo -->
        <div class="p-3 flex flex-col flex-grow">
            <div class="mb-2">
                <h3 class="text-sm font-semibold text-base-content mb-1 leading-tight line-clamp-2 min-h-[2.5em]">
                    {{ product.name }}
                </h3>
                <div class="flex items-center gap-1 text-xs pt-4">
                    @if(product.variants.length == 0) {
                    <div class="font-bold text-primary">{{ product.price | currency }}</div>
                    } @else {
                    Desde <div class="font-bold text-primary">{{ getMinPrice(product.variants) | currency }}</div>
                    }
                </div>
            </div>
            <!-- Bot칩n agregar peque침o -->
            <div class="mt-auto pt-4">
                <button
                    class="w-full bg-primary/20 backdrop-blur-sm text-primary border border-primary/30 rounded-lg py-1 px-2 text-[11px] font-medium hover:bg-primary/30 transition-all duration-300 hover:scale-105 flex items-center justify-center gap-1"
                    (click)="addToCart(1); $event.stopPropagation()">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M7 13l-1.1 5M7 13l1.1-5m8.9 5l1.1-5m-8.9 5h8.9m0 0l1.1 5">
                        </path>
                    </svg>
                    Agregar
                </button>
            </div>
        </div>
    </div>
</div>